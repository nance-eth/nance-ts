import { JBSplit } from "../types";

export const saltBaeSprinkle = (splits: JBSplit[], remainder: bigint): JBSplit[] => {
  const splitCount = BigInt(splits.length);
  const baseSprinkleAmount = remainder / splitCount;
  const extraSprinkle = remainder % splitCount;
  const sprinkledSplits = splits.map((split, i) => {
    const sprinkle = baseSprinkleAmount + (i < Number(extraSprinkle) ? 1n : 0n);
    console.log(`adding ${sprinkle} to split ${split.projectId} ${split.beneficiary}`);
    return {
      ...split,
      percent: split.percent + sprinkle
    };
  });
  return sprinkledSplits;
};

// https://knowyourmeme.com/memes/salt-bae
// ..........................................,,....,,,,,,,,:+%SSS?;:,,,,,,,,...........................
// ..........................................,,....,,,,,,,*S#######S?,,,,,.............................
// .............................................,,,,,;+?%%############+,,,,............................
// ..........................................,,.,,,*SS#################%:,,............................
// ..........,,....,....,..,.................,,.,:%######################+,,...........................
// ..........,,,,.,,,,,,,,,,,,...............,,,:S########################*,,,,........................
// ..........,,,,,,,,,,,,,,,,,...............,,:S##########################*,,,........................
// ..........,,,,,,,,,,,,,,,,,...............,,%############################+,.........................
// ..........,,,,,,,,,,,,,,,,,.............,,,*##############################;,,,......................
// ..........,:;:,,,,,,::,,,,,.............,,:S##############################S:,,......................
// ..........,;;;:,,,,;;;:,,,,,,,,,.....,,,,,?################################*,,,,....................
// ..........,;;;;,,,,;;;;,,,,,,,,,.....,,,,:##################################:,,,....................
// ..........,;;;;,,,,;;;;,,,,,,,,,,....,..,?##################################?,,,....................
// ..........,;;;;:,,:;;;;,,,:;:,,,,.......:S##################################S:,.....................
// ..........,;;;;;,,;;;;;,,;;;;,,,.....,,,+####################################;,,....................
// ,.........,;;;;;,,;;;;;,;;;;;,,,.....,,,%####################################?,,....................
// ,,,,,,,,,.,:;;;;:,;;;;;:;+;;;:,,.....,,,##########S+?########################S,,....................
// :::,,,,,,,,:;;;+;:;;;;;;;;;::;;,,....,,+#########?+;+S########################,,....................
// ;;;;,,,,,,,:;;+;;:;;+;+;;;;;;;;,,....,,%######S%+;;;;+S#######################;,....................
// ;;;;;,,,,,,,;;;;;;;;;;;;;;+;;;;,,....,,S####%++;;;;;;;+%######################+,....................
// ,;;;;:,,,,,,;;;;;;;;;;;;;++;;;:,.....,:S####%;;;;;;;;;;;?S####################*,....................
// ,:;;;+:,,,,,;;;;;;;;;;+;;;+;;;:,,,,,,,;#####S;;;;;;;;;;;;;%###################*,....................
// ,,:;;;;:,,,,;;;;;;;;;;+;;;+;;;;,,,,,,,+#####S+;;;;;;;;;;;;;*%#################*,....................
// ,,,;;;;;;,,,;;;;;;;;;;++++;;;;;,,,,.,;+#####S;;;;;;;;;;;;;;;;+S###############;,....................
// ,,,,;;;;;;::;++;;++;;;;;;;+;;;;:,,,,,:+S####?;;;;;;;;;;;;;;;;;;*%S############:,....................
// ,,,,:;;;;;;;;;;;;;;;;;;;;;+;;;;;,,,,,:+S####;;;;;;;;;;;;;;;;;;;;;;+S##########,,....................
// ..,,,:;;;;;;;;;;;;;;;;;;;;+;;;;;:,,,,,+S###?;;;;;;;;;;;;;;;;;;;;;;;*#########S,,....................
// ....,,;;;;;;;;;;;;;;;;;;;;;;;;;;;,,,,,;S##S+;;;;;;;;;;;;;;;;;;;;;;;;?########?,,....................
// .....,,;;;;;;;;;+;;;;;;;;;+;;;;;;;,,,,;%##%;;;;;;;;;;;;;;;;;;;;;;;;;+S#######+,,....................
// .....,,:;;;;;;;;;+;;;;;;;+;;;;;;;;,,,,;?##;;;;;;;;;;;;;;;;;;;;;;;;;;;?######S:......................
// .....,,,:;;;;;;;;;+;;;;;;;;;;;;;;;,,,,;*#%:;;;;;;;;;;;;;;;;;;;;;;;;;;;%#####?,......................
// .....,,,,;;;;;;;;;;;;;;;;;;;;;;;;;,,,,;+#+:;;;;;;;;;;;;;;;;;;;;;;;;;;;+S####,,......................
// ....,,,,,,;;;;;;;;;+;;;;;;;;;;;;;;,,,,;+%;;:;;++;;;;;;;;;;;;;;;;;;;;;;;?###*,,......................
// ....,,,,,,:;;;;;;;;+;;;;;;;;;;;;;;,,,,:+?;;:;%##S*+;;;;;;;;;;;;;;;;;;;;;S#S:,,......................
// .....,,,,,,;;;;;;;;;+;;;;;;;;;;;;;,,,,:+?;;;:*%###S%+;;;;;;;;;;;;;;;;;;;+S?,........................
// ......,,,,,,;;;;;;;;+;;;;;;;;;;;;;,,,,,+?;;;:;;*#####?;;;;;;;;;;;;;;;;;;;;,.........................
// ......,,,,,,:;;;;;;;+;;;;;;;;;;;;;,,,,,;?;;;:;;:;***?#%+;;;;;;;;;;;;;;;;;:,.........................
// ..........,,,;;;;;;;;;;;;;;;;;;;;;,,,,,:%;;;;:;##@#%+:??;;;;;;;;++++++;;;,,,........................
// ..........,,,,;;;;;;;;;;;;;;;;;;;:,,,,,,%;;;;;SSSSSSSS*+;;;;;+%S%%?%##?;:,,.........................
// ............,,:;;;;;;;;;;;;;;;;;;:,,,,.,?;;;;*SSSSSSSSS;,::;;*;+++;:,;;;,,,.........................
// ..........,,,,,;;;;;;;;;;;;;;;;;;,,,,,,,?;;;;*SSSSSSSSS+;;;:;%SSSSS#%*::,,,.........................
// ..........,,,,,,;;;;;;;;;;;;;;;;:,,,,,,,?;;;;;SSSSSSSSS;;;;;?SSSSSSSS#;:,,,.........................
// ..........,,,,,,:+++++;++++;;;;:,,,,,,,,*;;;;;*SSSSSSS%;;;;:SSSSSSSSSS+;,,,.....,,..................
// ...............,:;;;;+++;;;;;;;,,....,,,*;;;;;;;S%SS%%;;;;;:%SSSSSSSSS+,,.......,...................
// ...............,,;;;;;;;;+;;;;;,.....,,,*;;;;;;;;;++;;;;;;;;;SSSSSSSS%:,,,,.....,,..................
// ...............,:;;;;;;;;;;;;;;,.....,,,?;;;;;;;;;;;;;;;;;;;;:S%SS%S++,,,,,,,,,,,...................
// ...............,:;;;;;;;;;;;;;;,.....,,,*+;;;;;;;;;;+;;;;;;;;;;;+++;?:,,,,,,,,,,,,,.................
// ...............,:;;;;;;;;;;;;;;,,,,,,,,:+?;;;;;;;;;;+;;;;;;;+;;;;;;*;,,,,,,,,,,,,,,,,,..............
// ...............,,;;;;;;;;;;;;;;,,,,,,,,;;**;;;;;;;;;;;;;;;;;;;;;;;+*,,,,,,,,,,,,,,,,,,..............
// ................,:;;;;;;;;;;;;;,,,,,,,,;;;%+;;;;;;;;+;;;;;;;;;;;;;?+;,,,,,,,,,,,,,,,,,,.............
// ................,:;;;;;;;;;;;;;,,,,,,:;;;;*?;;;;;;;++++;;;;++;;;;?*;;;:,,,,,,,,,,,,,,,,,,...........
// ................,,;;;;;;;;;;;;;,,,,,,,:;;;;S+;*@@@@#S#S+++?%?*+;+?;;;;;:,,,,,,,,,,,,,,,,,...........
// ................,,;;;;;;;;;;;;;,,,,,,,,:;;;+S+*########SSS#####S%+;;;;;;:,,,,,,,,,,,,,,,............
// ................,,;;;;;;;;;;;;;:,,,,,,,,,;;;??+%S*++%SS??SSSSSS#*;;;;;;;;,,,,,,,,,,,,,,,,,,.........
// ................,:;;;;;;;;;;;;;;,,,,,,,,,,:;+S++;;+++++++++++++?;;;;;;;;;;,,,,,,,,,,,,,,,,..........
// ................,:;;;;;;;;;;;;;;:,,,,,,,,,,:;?%;;;;++++++++++;?+;;;;;;;;;;;,,,,,,,,,,,,,,,..........
// ................,:;;;;;;;;;;;;;;:,,,,,,,,,,,,;%*;;;;++;;++;;;?*;;;;;;;;;;;;:,,,,,,,,,,,,,,,.........
// ................,:;;;;;;;;;;;;;;;,,,,,,,,,,,,,;S+;;;+S@@#*;;+%;;;;;;;;;;;;;;:,,,,,,,,,,,,,,.........
// ................,;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,;S+;;;+***+;;%+;;;;;;;;;;;;;;;,,,,,,,,,,,,,,.........
// ...............,,;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,;S*;;;;;;;;??;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,.........
// ...............,,;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,:%S?SSS#S%S;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,.........
// ................,;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,+%S###S%+;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,.........
// ................,;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,,;++++;;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,.........
// ................,;;;;;;;;:;;;;;;;;;:,,,,,,,,,,,,,,,,,,:;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,.........
// ...............,,;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,:;;;;;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,.........
// ...............,,;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,,,,,;;;;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,.........
// ...............,:;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,.........
// ...............,:;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,.........
// ...............,;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,.........
// ..........,,,,,,;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;;;;;;;;;;:,,,,,,,,,,,........
// ..........,,,,,,;;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;;;;;;;;:,,,,,,,,,,,,........
// ...........,,,,:;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;;;;;;,,,,,,,,,,,,,,.......
// ..........,,,,,;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;;:,,,,,,,,,,,,,,,.......
// ..........,,,,,;;;;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,::;;;;;:,,,,,,,,,,,,,,,,.......
// ..........,,,,,;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,....
// ..........,,,,,;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;,,,,....
// ..........,,,,:;;;;;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;:,,,....
// ..........,,,,:;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;,,,....
// ..........,,,,;;;;;;;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;:,,....
// ..........,,,,;;;;;;;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;,,....
// ..........,,,,;;;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;:,....
// ..........,,,,;;;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;,....
// ..........,,,,;;;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;,,,..
// ..........,,,,:;;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;:,,..
// ..........,,,,:;;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;,...
// ..........,,,,,;;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;,,,,
// ..........,,,,,;;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;:,,,
// ..........,,,,,;;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;,,,
// ..........,,,,,:;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;;;,,,
// ..........,,,,,,;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;:,,
// .............,,,;;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;;;,,
// ...............,,;;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;,,
// ................,;;;;;:;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;;,,
// ................,,;;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;;:,
// ...............,,,:;;;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;;;,
// ...............,,,,;;;;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;;;,
// ...............,,,,:;;;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;,
// ................,,,,:;;;;;;;;;;;;;;;;;;;,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;,
// ................,,,,,;;;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;,
// ................,,,,,:;;;;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;:
// ................,,,,,,:;;;;;;;;;;;;;:,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;:
// .................,,,,,,,:;;;;;;::::,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;;
// .....................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;;
// .....................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,:;;;;;;;;;
// .....................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;;;
// ........................,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,;;;;;;;;;
